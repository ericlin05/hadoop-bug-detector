Description

PARTITION_STATS_VS table is autogenerated in the Hive Metastore when AutoGather Stats setting is active (default).
The CREATE TABLE statement fails due to syntax errors because the Primary Key column of the table is set to varchar(4000) which is beyond the maximum limitation of a MySQL key of 767 bytes.
Even if you create the table manually using an appropriate setting, eg varchar(255) the AutoGather functionality will detect this and ALTER the table column to be varchar(4000). This again fails to execute.
Error:
ERROR jdbc.JDBCStatsPublisher: Error during JDBC initialization.
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes


